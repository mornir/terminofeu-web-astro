---
import Layout from '@/layouts/Layout.astro'
import fiches from '@/terms-list.json'
import { getFiche } from '@/js/sanity'

export function getStaticPaths() {
  return fiches.map((fiche) => {
    return { params: { slug: fiche.slug }, props: { entry_id: fiche.entry_id } }
  })
}

const { props } = Astro

const fiche = await getFiche(props.entry_id)
---

<Layout title="Fiche">
  <h1>FICHE</h1>
  {fiche.deTitle}
</Layout>
